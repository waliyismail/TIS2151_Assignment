
DROP TABLE USER;
DROP TABLE ADMIN;
DROP TABLE FORUM;
DROP TABLE POST;
DROP TABLE COMMENT;
DROP TABLE USER_REPORT;
DROP TABLE POST_LIKE_DISLIKE;
DROP TABLE SUBSCRIPTION;



CREATE TABLE USER(
    USER_ID VARCHAR(45),
    USER_NAME VARCHAR(45),
    USER_PASSWORD VARCHAR(45),
    USER_IMAGE VARCHAR(45),
    USER_ABOUT TEXT,
    PRIMARY KEY(USER_ID)
);

CREATE TABLE ADMIN(
    ADMIN_ID VARCHAR(45),
    ADMIN_NAME VARCHAR(45),
    ADMIN_PASSWORD VARCHAR(45),
    ADMIN_IMAGE VARCHAR(45),
    PRIMARY KEY(ADMIN_ID)
);

CREATE TABLE FORUM( 
    FORUM_ID VARCHAR(45),
    FORUM_ABOUT TEXT,
    FORUM_IMAGE VARCHAR(45),
    FORUM_IMAGE_BANNER VARCHAR(45),
    FORUM_SUBSCRIBER_COUNT INT,
    FORUM_DATE_CREATION TIMESTAMP,
    FORUM_RULES TEXT,
    USER_ID VARCHAR(45),
    PRIMARY KEY(FORUM_ID),
    FOREIGN KEY(USER_ID) REFERENCES USER(USER_ID)
);

CREATE TABLE POST(
    POST_ID INT,
    POST_TITLE VARCHAR(45),
    POST_CONTENT TEXT,
    POST_IMAGE VARCHAR(45),
    USER_ID VARCHAR(45),
    FORUM_ID VARCHAR(45),
    PRIMARY KEY(POST_ID),
    FOREIGN KEY(USER_ID) REFERENCES USER(USER_ID),
    FOREIGN KEY(FORUM_ID) REFERENCES FORUM(FORUM_ID)
);

CREATE TABLE COMMENT(
    COMMENT_ID INT,
    COMMENT_TEXT TEXT,
    COMMENT_IMAGE VARCHAR(45),
    POST_ID INT,
    USER_ID VARCHAR(45),
    PRIMARY KEY(COMMENT_ID),
    FOREIGN KEY(POST_ID) REFERENCES POST(POST_ID),
    FOREIGN KEY(USER_ID) REFERENCES USER(USER_ID)
);

CREATE TABLE USER_REPORT(
    USER_REPORT_ID INT,
    USER_REPORT_CONTENT TEXT,
    POST_ID INT,
    USER_ID VARCHAR(45),
    ADMIN_ID VARCHAR(45),
    PRIMARY KEY(USER_REPORT_ID),
    FOREIGN KEY(POST_ID) REFERENCES POST(POST_ID),
    FOREIGN KEY(USER_ID) REFERENCES USER(USER_ID),
    FOREIGN KEY(ADMIN_ID) REFERENCES ADMIN(ADMIN_ID)
);

CREATE TABLE POST_LIKE_DISLIKE(
    USER_ID VARCHAR(45),
    POST_ID INT,
    LIKE_STATUS BOOLEAN,
    PRIMARY KEY(USER_ID,POST_ID),
    FOREIGN KEY(USER_ID) REFERENCES USER(USER_ID),
    FOREIGN KEY(POST_ID) REFERENCES POST(POST_ID)
);

CREATE TABLE SUBSCRIPTION(
    USER_ID VARCHAR(45),
    FORUM_ID VARCHAR(45),
    PRIMARY KEY(USER_ID,FORUM_ID),
    FOREIGN KEY(USER_ID) REFERENCES USER(USER_ID),
    FOREIGN KEY(FORUM_ID) REFERENCES FORUM(FORUM_ID)
);